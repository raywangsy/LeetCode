# [572. ğŸˆ¯ï¸ å¦ä¸€æ£µæ ‘çš„å­æ ‘](https://github.com/imtsingyun/LeetCode/issues/7)

## [572. å¦ä¸€æ£µæ ‘çš„å­æ ‘](https://leetcode.cn/problems/subtree-of-another-tree/)

![image](https://user-images.githubusercontent.com/56377217/199728964-481c974f-2e4f-40cd-9d53-4e8fc7d3f376.png)
![image](https://user-images.githubusercontent.com/56377217/199729136-6378e694-50bb-4967-a8cc-110239d9427d.png)

---

## æ–¹æ³•ä¸€ï¼šå°†æ ‘åºåˆ—åŒ–æˆå­—ç¬¦ä¸²

### è§£é¢˜æ€è·¯

- åˆ©ç”¨åç»­éå†ï¼Œå°†æ ‘ t1 å’Œ t2 åºåˆ—åŒ–æˆå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œå¦‚æœ s1 ä¸­åŒ…å« s2ï¼Œåˆ™è¯´æ˜ t2 æ˜¯ t1 çš„å­æ ‘

```java
class Solution {
    public boolean isSubtree(TreeNode root, TreeNode subRoot) {
        if (root == null || subRoot == null) {
            return false;
        }
        return postSerialize(root).contains(postSerialize(subRoot));
    }

    // åˆ©ç”¨åç»­éå†è¿›è¡Œåºåˆ—åŒ–
    private String postSerialize(TreeNode root) {
        StringBuilder sb = new StringBuilder();
        postSerialize(root, sb);
        return sb.toString();
    }

    private void postSerialize(TreeNode node, StringBuilder sb) {
        // # è¡¨ç¤º ç©ºèŠ‚ç‚¹ï¼Œ! è¡¨ç¤ºä¸€ä¸ªèŠ‚ç‚¹éå†å®Œæˆ
        if (node.left == null) {
            sb.append("#!");
        } else {
            postSerialize(node.left, sb);
        }
        if (node.right == null) {
            sb.append("#!");
        } else {
            postSerialize(node.right, sb);
        }
        // æ ¹èŠ‚ç‚¹éå†å®Œæˆ
        sb.append(node.val).append("!");
    }
}
```

```
2022/11/03 21:55:27	
Success:
	Runtime:3 ms, faster than 69.03% of Java online submissions.
	Memory Usage:41.7 MB, less than 23.06% of Java online submissions.
```


---

## æ–¹æ³•äºŒï¼šé€’å½’

### è§£é¢˜æ€è·¯
- 1. åˆ¤æ–­ subRoot æ˜¯å¦åœ¨ root çš„å·¦å­æ ‘ä¸­
- 2. åˆ¤æ–­ subRoot æ˜¯å¦åœ¨ root çš„å³å­æ ‘ä¸­
- 3. åˆ¤æ–­ root å’Œ subRoot æ˜¯å¦ä¸ºä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªæ ‘

```java
class Solution {
    // åˆ¤æ–­ä¸¤ä¸ªæ ‘æ˜¯å¦ä¸ºå­æ ‘
    public boolean isSubtree(TreeNode root, TreeNode subRoot) {
        if (subRoot == null) return true;
        if (root == null) return false;

        // 1. åˆ¤æ–­ subRoot æ˜¯å¦åœ¨ root çš„å·¦å­æ ‘ä¸­
        // 2. åˆ¤æ–­ subRoot æ˜¯å¦åœ¨ root çš„å³å­æ ‘ä¸­
        // 3. åˆ¤æ–­ root å’Œ subRoot æ˜¯å¦ä¸ºä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„ä¸¤ä¸ªæ ‘
        // ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸º trueï¼Œåˆ™ subRoot å°±æ˜¯ root çš„å­æ ‘
        return isSubtree(root.left, subRoot) || isSubtree(root.right, subRoot) || isSameTree(root, subRoot);
    }

    // åˆ¤æ–­ä¸¤ä¸ªæ ‘æ˜¯å¦å®Œå…¨ç›¸åŒ
    private boolean isSameTree(TreeNode root, TreeNode sub) {
        if (root == null && sub == null) return true;
        if (root == null || sub == null) return false;
        // ä¸¤ä¸ªèŠ‚ç‚¹ä¸åŒï¼Œåˆ™ä¸¤ä¸ªæ ‘ä¸€å®šä¸åŒ
        if (root.val != sub.val) return false;
        // å¦‚æœå½“å‰èŠ‚ç‚¹ç›¸åŒï¼Œåˆ™æ¯”è¾ƒå·¦å³å­èŠ‚ç‚¹
        return isSameTree(root.left, sub.left) && isSameTree(root.right, sub.right);
    }
}
```

```
2022/11/03 22:17:12	
Success:
	Runtime:1 ms, faster than 99.77% of Java online submissions.
	Memory Usage:41.9 MB, less than 5.04% of Java online submissions.
```